# dlfm_makam_recognition_experimental_data
This folder is for the [test dataset](https://github.com/MTG/otmm_makam_recognition_dataset/releases/tag/dlfm2016) and the generated experimental data in the experiments explained in:

> Karakurt, A., Şentürk S., & Serra X. (2016).  [MORTY: A Toolbox for Mode Recognition and Tonic Identification](http://mtg.upf.edu/node/3538). 3rd International Digital Libraries for Musicology Workshop. New York, USA

Please cite the paper if you are using the data in any of your works.

We host the experimental data in [Zenodo](https://zenodo.org/record/57999) separately due to the file size limitations in github. The hosted zip file includes the folds, features, training data, testing data, the results and the evaluation. You can download the zip and extract it to here.

The files generated from audio recordings are labeled with 16 character long [MusicBrainz](http://musicbrainz.org/) IDs (in short "MBID"s). The structure of the data in the zip file is explained below: 

- In the paths given below task is the computational task ("tonic," "mode" or "joint"), _training_type_ is either "single" (-distribution per mode) or "multi" (-distribution per mode),  _distribution_ is either "pcd" (pitch class distribution) or "pd" (pitch distribution), _bin_size_ is the bin size of the _distribution_ in cents, _kernel_width_ is the standard deviation of the Gaussian kernel used in smoothing the _distribution_, _distance_ is either the distance or the dissimilarity metric, _num_neighbors_ is the number of neighbors checked in k-nearest neighbor classification and _min_peak_ is the minimum peak ratio. 0 _kernel_width_ implies no smoothing. _min_peak_ always takes the value 0.15. 
- __folds.json__: Divides [the test dataset](https://github.com/MTG/otmm_makam_recognition_dataset/releases) into training and testing sets according to stratified 10-fold scheme. The annotations are also distributed to sets accordingly. The file is generated by  the Jupyter notebook [setup_feature_training.ipynb](https://github.com/sertansenturk/makam_recognition_experiments/blob/master/setup_feature_training.ipynb) (4th code block).
- __Features__:  The path is __data/features/[distribution--bin_size--kernel_width]/[MBID--(hist or pdf)].json__. "pdf" stands for probability density function, which is used to obtain the multi-distribution models in the training step and "hist" stands for the histogram, which is used to obtain the single-distribution models in the training step. The features are extracted using the Jupyter notebook [setup_feature_training.ipynb](https://github.com/sertansenturk/makam_recognition_experiments/blob/master/setup_feature_training.ipynb) (5th code block).
- __Training__: The path is __data/training/[training_type--distribution--bin_size--kernel_width]/fold(0:9).json]__. There are 10 folds in each folder, each of which stores the training model (file paths of the distributions in "multi" _training_type_ or the distributions itself in "single" _training_type_) trained for the fold using the parameter set. The training files are generated by the Jupyter notebook [setup_feature_training.ipynb](https://github.com/sertansenturk/makam_recognition_experiments/blob/master/setup_feature_training.ipynb) (6th code block).
- _Testing_: The path is __data/testing/[task]/[training_type--distribution--bin_size--kernel_width--distance--num_neighbors--min_peak]__. Each path has the folders __fold(0:9)__, which have the evaluation and the results files obtained from each fold. The path also has the __overall_eval.json__ file, which stores the overall evaluation of the experiment for the given parameter set. The optimal value of _min_peak_ is selected in the 4th code block, testing is carried in the 6th code clock and the evaluation is done in the 7th code block in the Jupyter notebook (testing_evaluation.ipynb](https://github.com/sertansenturk/makam_recognition_experiments/blob/master/testing_evaluation.ipynb). 
- __data/testing/__ folder also contains a summary of all the experiments in the files __data/testing/evaluation_overall.json__ and __data/testing/evaluation_perfold.json__. These files are created by the MATLAB scripts running the statistical significance. __data/testing/evaluation_perfold.mat__ is the same with the json file of the same filename, stored for fast reading.

For a thorough explanation please refer to the [companion page](http://compmusic.upf.edu/node/319) in the CompMusic website and the paper itself. For additional information please contact the authors.

<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
